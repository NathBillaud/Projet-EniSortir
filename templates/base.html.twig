<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{% block title %} ENI-SORTIR !{% endblock %}</title>
    <link rel="icon" href="">

    {% block stylesheets %}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
        <link rel="icon" href="{{ asset('images/groupe2.png') }}">
{#        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css">#}
    {% endblock %}
</head>

<body>
<header>
    <h1 >
        <a href="{{ path('sortie') }}" class="text-dark">
{#            <img src="{{ asset('images/groupe2.png') }}" alt="ENI Sortie" width="90px">#}
            ENI - Sortir
        </a>
    </h1>
    <nav class="navbar">

            <button class="burger" onclick="toggleMenu()">
                <i class="bi bi-list"></i>
            </button>

            <div id="nav-links" class="nav-links">
                <a href="#" onclick="toggleMenu()" class="nav-link close-link"><i class="bi bi-x-lg"></i> Fermer</a>
                <a class="nav-link" href="{{ path('sortie') }}"><i class="bi bi-grid"></i> Accueil </a>

            {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                {% if is_granted('ROLE_ADMIN') %}
                    <a class="nav-link" href="{{ path('admin_sites_list') }}"><i class="bi bi-building-add"></i> Sites </a>
                    <a class="nav-link" href="{{ path('admin_villes_list') }}"><i class="bi bi-geo"></i> Villes </a>
                    <a class="nav-link" href="{{ path('admin_user_create') }}"><i class="bi bi-person-add"></i>Créer Profil</a>
                    <a class="nav-link" href="{{ path('admin_import_users') }}"><i class="bi bi-folder-plus"></i>Importer utilisateurs</a>
                    <a class="nav-link" href="{{ path('admin_users_list') }}"><i class="bi bi-person-lines-fill"></i>Utilisateurs</a>

                {% endif %}


                <a class="nav-link" href="{{ path('user_profil',{'id':app.user.id}) }}"><i class="bi bi-person-circle"></i> Mon Profil</a>

                <a class="nav-link" href="{{ path('groupe_prive')}}"><i class="bi bi-person-circle"></i> Mes Groupes Privés</a>


                {% if not is_mobile() %}

                        <a class="nav-link" href="{{ path('sortie_edit') }}"><i class="bi bi-balloon"></i> Créer une sortie</a>

                {% endif %}


                <a class="nav-link" href="{{ path('app_logout') }}"><i class="bi bi-box-arrow-right"></i> Se déconnecter</a>

            {% else %}

                <a class="nav-link" href="{{ path('app_login') }}"><i class="bi bi-box-arrow-in-right"></i>Se connecter</a>

            {% endif %}
        </div>

    </nav>

</header>
<main>
    {% for type, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ type }}">
                {{ message|raw }}
            </div>
        {% endfor %}
    {% endfor %}

    {% block body %}{% endblock %}
</main>
<footer>
    © Eni - Sortir {{ 'now'|date('Y') }}
</footer>

{% block javascripts %}
        {{ importmap('app') }}

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <script>
        $(document).ready(function () {
            $('.select2').select2({
                placeholder: "Sélectionner un ou plusieurs membres",
                allowClear: true,
                width: '100%'
            });
        });

</script>

    <script>
        function toggleMenu() {
            const navLinks = document.getElementById('nav-links');
            navLinks.classList.toggle('show');
            document.body.classList.toggle('menu-open');
        }
    </script>


{% endblock %}
</body>
</html>
